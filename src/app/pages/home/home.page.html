<ion-header class="mobile-welcome-header karabs-header">
  <div class="welcome-container">
    <img src="assets/logo.png" alt="Karabs Logo" class="karabs-logo" />
    <span class="welcome-text">Bienvenue dans l'accueil du Karabs</span>
  </div>
</ion-header>

<ion-content class="ion-padding custom-background">
  <div class="content-wrapper">
    <div class="carousel-section">
      <!-- Indicateur de chargement -->
      <div *ngIf="isLoading" class="loading-container">
        <ion-spinner name="circles"></ion-spinner>
        <p>Chargement des enseignes...</p>
        <div class="card-container">
          <div class="skeleton-card"></div>
        </div>
      </div>


      <!-- Message d'erreur -->
      <div *ngIf="hasError && !isLoading" class="error-container">
        <ion-icon name="alert-circle-outline"></ion-icon>
        <p>Impossible de charger les enseignes. Veuillez réessayer plus tard.</p>
        <ion-button (click)="loadRandomEnseignes()" size="small">
          <ion-icon name="refresh-outline" slot="start"></ion-icon>
          Réessayer
        </ion-button>
      </div>

      <!-- Contenu du carousel -->
      <div *ngIf="enseignes.length > 0 && !isLoading" class="carousel-content">
        <div class="carousel-wrapper">
          <swiper-container #swiper class="horizontal-swiper" 
                          centered-slides="true"
                          slides-per-view="1">
            <swiper-slide *ngFor="let enseigne of enseignes; let i = index" 
                         class="swiper-slide-centered">
              <div class="card-container" 
                   [class.active-card]="i === currentIndex" 
                   (click)="navigateToEnseigne(enseigne.id, $event)">
                <ion-card class="category-card" tabindex="0" 
                         role="button" 
                         aria-label="Voir les détails de {{enseigne.name}}">
                  <div class="card-image-container">
                    <div class="progressive-image" [ngClass]="{'loaded': enseigne.imageLoaded}">
                      <img class="full card-image" 
                          [src]="enseigne.image" 
                          [alt]="enseigne.name"
                          [class.cover-top]="enseigne.imageFocus === 'top'"
                          [class.cover-center]="enseigne.imageFocus === 'center' || !enseigne.imageFocus"
                          [class.cover-bottom]="enseigne.imageFocus === 'bottom'"
                          [class.contain]="enseigne.image.includes('default-enseigne.jpg')"
                          loading="eager"
                          (load)="enseigne.imageLoaded = true">
                      <div class="card-overlay"></div>
                    </div>
                  </div>
                  <ion-card-header>
                    <ion-card-subsubtitle>
                      {{ enseigne.slogan }}
                    </ion-card-subsubtitle>
                    <ion-card-title>{{ enseigne.name }}</ion-card-title>
                    <ion-card-subtitle>{{ enseigne.category }}</ion-card-subtitle>
                  </ion-card-header>
                </ion-card>
              </div>
            </swiper-slide>
          </swiper-container>
        </div>
      </div>
    </div>
  </div>
</ion-content>








<!-- 

<ion-header class="mobile-welcome-header karabs-header">
  <div class="welcome-container">
    <img src="assets/logo.png" alt="Karabs Logo" class="karabs-logo" />
    <span class="welcome-text">Bienvenue dans l'accueil du Karabs</span>
  </div>
</ion-header>

<ion-content class="ion-padding custom-background">
  <div class="content-wrapper">
    <div class="carousel-section">
      <div *ngIf="isLoading" class="loading-container">
        <ion-spinner name="circles"></ion-spinner>
        <p>Chargement des enseignes...</p>
        <div class="card-container">
          <div class="skeleton-card"></div>
        </div>
      </div>

      <div *ngIf="hasError && !isLoading" class="error-container">
        <ion-icon name="alert-circle-outline"></ion-icon>
        <p>Impossible de charger les enseignes. Veuillez réessayer plus tard.</p>
        <ion-button (click)="loadRandomEnseignes()" size="small">
          <ion-icon name="refresh-outline" slot="start"></ion-icon>
          Réessayer
        </ion-button>
      </div>

      <div *ngIf="enseignes.length > 0 && !isLoading" class="carousel-content">
        <div class="carousel-wrapper">
          <swiper-container #swiper class="horizontal-swiper" 
                          centered-slides="true"
                          slides-per-view="1">
            <swiper-slide *ngFor="let enseigne of enseignes; let i = index" 
                         class="swiper-slide-centered">
              <div class="card-container" 
                   [class.active-card]="i === currentIndex" 
                   (click)="navigateToEnseigne(enseigne.id, $event)">
                <ion-card class="category-card" tabindex="0" 
                         role="button" 
                         aria-label="Voir les détails de {{enseigne.name}}">
                  <div class="card-image-container">
                    <div class="progressive-image" [ngClass]="{'loaded': enseigne.imageLoaded}">
                      <img class="full card-image" 
                          [src]="enseigne.image" 
                          [alt]="enseigne.name"
                          [class.cover-top]="enseigne.imageFocus === 'top'"
                          [class.cover-center]="enseigne.imageFocus === 'center' || !enseigne.imageFocus"
                          [class.cover-bottom]="enseigne.imageFocus === 'bottom'"
                          [class.contain]="enseigne.image.includes('default-enseigne.jpg')"
                          loading="eager"
                          (load)="enseigne.imageLoaded = true">
                      <div class="card-overlay"></div>
                    </div>
                  </div>
                  <ion-card-header>
                    <ion-card-subsubtitle>
                      {{ enseigne.slogan }}
                    </ion-card-subsubtitle>
                    <ion-card-title>{{ enseigne.name }}</ion-card-title>
                    <ion-card-subtitle>{{ enseigne.category }}</ion-card-subtitle>
                  </ion-card-header>
                </ion-card>
              </div>
            </swiper-slide>
          </swiper-container>
        </div>
      </div>
    </div>
  </div>
</ion-content> -->